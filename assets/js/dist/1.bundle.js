webpackJsonp([1],{150:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=(i.n(n),i(9)),a=i(155),s=(i.n(a),i(156)),l=(i.n(s),i(157));i.n(l);!function(t){var e=function(e){function a(){this.el=null,this.pin=null,this.shift=6,this.drop=0,this.location=null,this.init=function(){this.el=t("<div></div>").addClass("mapplic-tooltip"),this.close=t("<a></a>").addClass("mapplic-tooltip-close").attr("href","#").appendTo(this.el),this.close.on("click touchend",function(t){t.preventDefault(),v.hideLocation(),v.o.zoom||v.moveTo(.5,.5,1,600,"easeInOutCubic")}),v.o.tooltip.thumb&&(this.thumbnail=t("<img>").addClass("mapplic-tooltip-thumbnail").hide().appendTo(this.el)),this.content=t("<div></div>").addClass("mapplic-tooltip-content").appendTo(this.el),this.title=t("<h4></h4>").addClass("mapplic-tooltip-title").appendTo(this.content),v.o.tooltip.desc&&(this.desc=t("<div></div>").addClass("mapplic-tooltip-description").appendTo(this.content)),v.o.tooltip.link&&(this.link=t('<button><i class="fa fa-plus"></i>&nbsp;Añadir</button>').addClass("mapplic-popup-link btn btn-success").attr("href","#").on("click",function(e){e.preventDefault;var a=this.getAttribute("href");t.ajax({url:i.i(n.base_url)()+"ajax/add_cart",data:{id_huerto:a},type:"post"}).done(function(t){(new o.default).templateCart(t)}).fail(function(t){alert("Algún error, contacte al administrador")})}).hide().appendTo(this.el)),this.triangle=t("<div></div>").addClass("mapplic-tooltip-triangle").prependTo(this.el),v.map.append(this.el)},this.show=function(e){if(e){var i=this;this.location=e,v.hovertip&&v.hovertip.hide(),v.o.tooltip.thumb&&(e.thumbnail?this.thumbnail.attr("src",e.thumbnail).show():this.thumbnail.hide()),v.o.tooltip.link&&(e.link?this.link.attr("href",e.link).show():this.link.hide()),this.title.text(e.title),v.o.tooltip.desc&&this.desc.html(e.description),this.content[0].scrollTop=0,this.pin=t('.mapplic-pin[data-location="'+e.id+'"]'),0==this.pin.length?this.shift=20:this.shift=Math.abs(parseFloat(this.pin.css("margin-top")))+20,t("img",this.el).off("load").load(function(){i.position(),i.zoom(e)}),this.position(),this.el.stop().show(),this.zoom(e)}},this.position=function(){if(this.location){var t=v.map.offset().left+v.map.width()*this.location.x-v.container.offset().left,e=v.map.offset().top+v.map.height()*this.location.y-v.container.offset().top,i=100*this.location.x,n=100*this.location.y,o=-this.el.outerHeight()-this.shift,a=-this.el.outerWidth()/2;if(v.o.smartip){var s=.5;Math.abs(o)>e?(o=10,this.pin&&this.pin.length&&(o=this.pin.height()+parseFloat(this.pin.css("margin-top"))+20),this.el.addClass("mapplic-bottom")):this.el.removeClass("mapplic-bottom"),this.el.outerWidth()/2>t?s=.5-(this.el.outerWidth()/2-t)/this.el.outerWidth():v.container.width()-t-this.el.outerWidth()/2<0&&(s=.5+(t+this.el.outerWidth()/2-v.container.width())/this.el.outerWidth()),s=Math.max(0,Math.min(1,s)),a=-this.el.outerWidth()*s,this.triangle.css("left",Math.max(5,Math.min(95,100*s))+"%")}this.el.css({left:i+"%",top:n+"%",marginTop:o,marginLeft:a}),this.drop=this.el.outerHeight()+this.shift}},this.zoom=function(t){var e=.5,i=t.zoom?parseFloat(t.zoom):v.o.maxscale;e=((v.container.height()-this.drop)/2+this.drop)/v.container.height(),v.moveTo(t.x,t.y,i,600,"easeInOutCubic",e)},this.hide=function(){var t=this;this.location=null,this.el.stop().fadeOut(300,function(){t.desc&&t.desc.empty()})}}function s(){this.el=null,this.init=function(){this.el=t("<div></div>").addClass("mapplic-lightbox mfp-hide"),this.title=t("<h2></h2>").addClass("mapplic-lightbox-title").appendTo(this.el),this.desc=t("<div></div>").addClass("mapplic-lightbox-description").appendTo(this.el),this.link=t("<a>More</a>").addClass("mapplic-popup-link").attr("href","#").hide().appendTo(this.el),t("body").magnificPopup({delegate:".mapplic-popup-image",type:"image",removalDelay:300,mainClass:"mfp-fade"}),v.el.append(this.el)},this.show=function(e){this.location=e,this.title.text(e.title),this.desc.html(e.description),e.link?this.link.attr("href",e.link).show():this.link.hide();var i=this;t.magnificPopup.open({items:{src:this.el},type:"inline",removalDelay:300,mainClass:"mfp-fade",callbacks:{beforeClose:function(){i.hide()}}});var n=e.zoom?e.zoom:v.o.maxscale;v.moveTo(e.x,e.y,n,600,"easeInOutCubic"),v.tooltip&&v.tooltip.hide()},this.hide=function(){this.location=null,v.hideLocation()}}function l(){this.el=null,this.pin=null,this.shift=6,this.init=function(){var e=this;this.el=t("<div></div>").addClass("mapplic-tooltip mapplic-hovertip"),this.title=t("<h4></h4>").addClass("mapplic-tooltip-title").appendTo(this.el),v.o.hovertip.desc&&(this.desc=t("<div></div>").addClass("mapplic-tooltip-description").appendTo(this.el)),this.triangle=t("<div></div>").addClass("mapplic-tooltip-triangle").appendTo(this.el),t(v.map).on("mouseover",".mapplic-layer a",function(){var i="";t(this).hasClass("mapplic-pin")?(i=t(this).data("location"),e.pin=t('.mapplic-pin[data-location="'+i+'"]'),e.shift=Math.abs(parseFloat(e.pin.css("margin-top")))+20):(i=t(this).attr("xlink:href").slice(1),e.shift=20);var n=v.getLocationData(i);n&&e.show(n)}).on("mouseout",function(){e.hide()}),v.o.selector&&t(v.map).on("mouseover",v.o.selector,function(){var i=v.getLocationData(t(this).attr("id"));e.shift=20,i&&e.show(i)}).on("mouseout",function(){e.hide()}),v.map.append(this.el)},this.show=function(t){v.tooltip.location!=t&&(this.title.text(t.title),v.o.hovertip.desc&&this.desc.html(t.description),this.position(t),this.el.stop().fadeIn(100))},this.position=function(t){var e=v.map.offset().left+v.map.width()*t.x-v.container.offset().left,i=v.map.offset().top+v.map.height()*t.y-v.container.offset().top,n=100*t.x,o=100*t.y,a=-this.el.outerHeight()-this.shift,s=0,l=.5;Math.abs(a)>i?(a=10,this.pin&&this.pin.length&&(a=this.pin.height()+parseFloat(this.pin.css("margin-top"))+20),this.el.addClass("mapplic-bottom")):this.el.removeClass("mapplic-bottom"),this.el.outerWidth()/2>e?l=.5-(this.el.outerWidth()/2-e)/this.el.outerWidth():v.container.width()-e-this.el.outerWidth()/2<0&&(l=.5+(e+this.el.outerWidth()/2-v.container.width())/this.el.outerWidth()),s=-this.el.outerWidth()*l,this.triangle.css("left",Math.max(10,Math.min(90,100*l))+"%"),this.el.css({left:n+"%",top:o+"%",marginTop:a,marginLeft:s})},this.hide=function(){this.el.stop().fadeOut(200)}}function r(){this.param="location",this.init=function(){var t=this;this.check(0),window.onpopstate=function(e){return e.state&&t.check(600),!1}},this.check=function(t){var e=this.getUrlParam(this.param);v.showLocation(e,t,!0)},this.getUrlParam=function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)"),i=e.exec(location.search);return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))},this.update=function(t){var e=window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+this.param+"="+t;window.history.pushState({path:e},"",e)},this.clear=function(){history.pushState("",document.title,window.location.pathname)}}function c(){this.param="location",this.init=function(){var e=this;this.check(0),t(window).on("hashchange",function(){e.check(600)})},this.check=function(t){var e=location.hash.slice(this.param.length+2);v.showLocation(e,t,!0)},this.update=function(t){window.location.hash=this.param+"-"+t},this.clear=function(){window.location.hash=this.param}}function h(){this.el=null,this.opacity=null,this.init=function(){this.el=t("<div></div>").addClass("mapplic-minimap").appendTo(v.container),this.el.click(function(e){e.preventDefault();var i=(e.pageX-t(this).offset().left)/t(this).width(),n=(e.pageY-t(this).offset().top)/t(this).height();v.moveTo(i,n,v.scale/v.fitscale,100)})},this.addLayer=function(e){var i=t("<div></div>").addClass("mapplic-minimap-layer").addClass(e.id).appendTo(this.el),n=this;t("<img>").attr("src",e.minimap).addClass("mapplic-minimap-background").appendTo(i),t("<div></div>").addClass("mapplic-minimap-overlay").appendTo(i),t("<img>").attr("src",e.minimap).addClass("mapplic-minimap-active").load(function(){n.update(),t(this).addClass("mapplic-clip-transition")}).appendTo(i)},this.show=function(e){t(".mapplic-minimap-layer",this.el).hide(),t(".mapplic-minimap-layer."+e,this.el).show()},this.update=function(e,i){var n=t(".mapplic-minimap-active",this.el);void 0===e&&(e=v.x),void 0===i&&(i=v.y);var o=Math.round(v.container.width()/v.contentWidth/v.scale*this.el.width()),a=Math.round(v.container.height()/v.contentHeight/v.scale*this.el.height()),s=Math.round(-i/v.contentHeight/v.scale*this.el.height()),l=Math.round(-e/v.contentWidth/v.scale*this.el.width()),r=l+o,c=s+a;n.each(function(){t(this)[0].style.clip="rect("+s+"px, "+r+"px, "+c+"px, "+l+"px)"});var h=this;this.el.show(),this.el.css("opacity",1),clearTimeout(this.opacity),this.opacity=setTimeout(function(){h.el.css("opacity",0),setTimeout(function(){h.el.hide()},600)},2e3)}}function p(){this.el=null,this.list=null,this.init=function(){var e=this;if(this.el=t("<div></div>").addClass("mapplic-sidebar").appendTo(v.el),v.o.search){var i=t("<form></form>").addClass("mapplic-search-form").submit(function(){return!1}).appendTo(this.el);v.clear=t("<button></button>").attr("type","button").addClass("mapplic-search-clear").click(function(){n.val(""),n.keyup()}).appendTo(i);var n=t("<input>").attr({type:"text",spellcheck:"false",placeholder:"Search..."}).addClass("mapplic-search-input").keyup(function(){var i=t(this).val();e.search(i)}).prependTo(i)}var o=t("<div></div>").addClass("mapplic-list-container").appendTo(this.el);this.list=t("<ol></ol>").addClass("mapplic-list").appendTo(o),this.notfound=t("<p></p>").addClass("mapplic-not-found").text("Nothing found. Please try a different search.").appendTo(o),v.o.search||o.css("padding-top","0")},this.addCategories=function(e){var i=this.list;e&&t.each(e,function(e,n){var o=t("<li></li>").addClass("mapplic-list-category").attr("data-category",n.id),a=t("<ol></ol>").css("border-color",n.color).appendTo(o);"false"==n.show?a.hide():o.addClass("mapplic-opened");var s=t("<a></a>").attr("href","#").attr("title",n.title).css("background-color",n.color).text(n.title).prependTo(o);s.on("click",function(t){t.preventDefault(),o.toggleClass("mapplic-opened"),a.slideToggle(200)}),n.icon&&t("<img>").attr("src",n.icon).addClass("mapplic-list-thumbnail").prependTo(s),t("<span></span>").text("0").addClass("mapplic-list-count").prependTo(s),i.append(o)})},this.addLocation=function(e){var i=t("<li></li>").addClass("mapplic-list-location").addClass("mapplic-list-shown").attr("data-location",e.id),n=t("<a></a>").attr("href","#").click(function(i){i.preventDefault(),v.showLocation(e.id,600),t(window).width()<668&&t("html, body").animate({scrollTop:v.container.offset().top},400)}).appendTo(i);e.thumbnail&&t("<img>").attr("src",e.thumbnail).addClass("mapplic-list-thumbnail").appendTo(n),t("<h4></h4>").text(e.title).appendTo(n),t("<span></span>").html(e.about).appendTo(n);var o=t('.mapplic-list-category[data-category="'+e.category+'"]');o.length?t("ol",o).append(i):this.list.append(i),t(".mapplic-list-count",o).text(t(".mapplic-list-shown",o).length)},this.search=function(e){e?v.clear.fadeIn(100):v.clear.fadeOut(100),t(".mapplic-list li",v.el).each(function(){t(this).text().search(new RegExp(e,"i"))<0?(t(this).removeClass("mapplic-list-shown"),t(this).slideUp(200)):(t(this).addClass("mapplic-list-shown"),t(this).show())}),t(".mapplic-list > li",v.el).each(function(){var e=t(".mapplic-list-shown",this).length;t(".mapplic-list-count",this).text(e)}),t(".mapplic-list > li.mapplic-list-shown").length>0?this.notfound.fadeOut(200):this.notfound.fadeIn(200)}}function u(){this.el=null,this.init=function(){this.el=t("<div></div>").addClass("mapplic-coordinates").appendTo(v.container),this.el.append("x: "),t("<code></code>").addClass("mapplic-coordinates-x").appendTo(this.el),this.el.append(" y: "),t("<code></code>").addClass("mapplic-coordinates-y").appendTo(this.el),t(".mapplic-layer",v.map).on("mousemove",function(e){var i=(e.pageX-v.map.offset().left)/v.map.width(),n=(e.pageY-v.map.offset().top)/v.map.height();t(".mapplic-coordinates-x").text(parseFloat(i).toFixed(4)),t(".mapplic-coordinates-y").text(parseFloat(n).toFixed(4))})}}function d(){this.el=null,this.init=function(){this.el=t("<a></a>").attr("href","#").addClass("mapplic-clear-button").appendTo(v.container),this.el.on("click touchstart",function(t){t.preventDefault(),v.hideLocation(),v.moveTo(.5,.5,1,400,"easeInOutCubic")})}}function f(){this.el=null,this.init=function(){this.el=t("<div></div>").addClass("mapplic-zoom-buttons").appendTo(v.container),this.zoomin=t("<a></ha>").attr("href","#").addClass("mapplic-zoomin-button").appendTo(this.el),this.zoomin.on("click touchstart",function(t){t.preventDefault();var e=v.scale;v.scale=E(e+.8*e),v.x=C(v.x-(v.container.width()/2-v.x)*(v.scale/e-1)),v.y=k(v.y-(v.container.height()/2-v.y)*(v.scale/e-1)),D(v.x,v.y,v.scale,400,"easeInOutCubic")}),this.zoomout=t("<a></ha>").attr("href","#").addClass("mapplic-zoomout-button").appendTo(this.el),this.zoomout.on("click touchstart",function(t){t.preventDefault();var e=v.scale;v.scale=E(e-.4*e),v.x=C(v.x-(v.container.width()/2-v.x)*(v.scale/e-1)),v.y=k(v.y-(v.container.height()/2-v.y)*(v.scale/e-1)),D(v.x,v.y,v.scale,400,"easeInOutCubic")})},this.update=function(t){this.zoomin.removeClass("mapplic-disabled"),this.zoomout.removeClass("mapplic-disabled"),t==v.fitscale?this.zoomout.addClass("mapplic-disabled"):t==v.o.maxscale&&this.zoomin.addClass("mapplic-disabled")}}function m(){this.el=null,this.init=function(){var e=this;this.element=v.el[0],t("<a></a>").attr("href","#").attr("href","#").addClass("mapplic-fullscreen-button").click(function(t){t.preventDefault(),e.isFull()?e.exitFull():e.goFull()}).appendTo(v.container)},this.goFull=function(){this.element.requestFullscreen?this.element.requestFullscreen():this.element.mozRequestFullScreen?this.element.mozRequestFullScreen():this.element.webkitRequestFullscreen?this.element.webkitRequestFullscreen():this.element.msRequestFullscreen&&this.element.msRequestFullscreen()},this.exitFull=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},this.isFull=function(){return window.innerHeight==screen.height}}var v=this;v.o={source:"locations.json",selector:"[id^=landmark] > *",landmark:!1,mapfill:!1,height:420,markers:!0,minimap:!0,sidebar:!0,search:!0,deeplinking:!0,clearbutton:!0,zoombuttons:!0,action:"tooltip",lightbox:!1,hovertip:{desc:!1},tooltip:{thumb:!0,desc:!0,link:!0},smartip:!0,fillcolor:"#4d5e6d",fullscreen:!0,developer:!1,mousewheel:!0,maxscale:4,skin:"",zoom:!0},v.el=e,v.init=function(e){return v.o=t.extend(v.o,e),v.x=0,v.y=0,v.scale=1,v.el.addClass("mapplic-element mapplic-loading").addClass(v.o.skin).height(v.o.height),v.o.landmark&&(v.o.sidebar=!1,v.o.zoombuttons=!1,v.o.deeplinking=!1),"string"==typeof v.o.source?t.getJSON(v.o.source,function(t){g(t),v.el.removeClass("mapplic-loading")}).fail(function(){console.error("Couldn't load map data. (Make sure to run the script through a web server and not just open the html file in a browser directly)"),v.el.removeClass("mapplic-loading").addClass("mapplic-error"),alert("Data file missing or invalid!\nMake sure to run the script through web server.")}):(g(v.o.source),v.el.removeClass("mapplic-loading")),v};var g=function(e){v.data=e;var i=null;v.container=t("<div></div>").addClass("mapplic-container").appendTo(v.el),v.map=t("<div></div>").addClass("mapplic-map").appendTo(v.container),v.o.zoom&&v.map.addClass("mapplic-zoomable"),v.levelselect=t("<select></select>").addClass("mapplic-levels-select"),v.contentWidth=parseFloat(e.mapwidth),v.contentHeight=parseFloat(e.mapheight),v.o.minimap&&(v.minimap=new h,v.minimap.init()),v.o.sidebar?(v.sidebar=new p,v.sidebar.init(),v.sidebar.addCategories(e.categories)):v.container.css("width","100%");var n=0;if(e.levels&&t.each(e.levels,function(e,o){var a=o.map,s=a.substr(a.lastIndexOf(".")+1).toLowerCase(),l=t("<div></div>").addClass("mapplic-layer").attr("data-floor",o.id).hide().appendTo(v.map);switch(s){case"jpg":case"jpeg":case"png":case"gif":t("<img>").attr("src",a).addClass("mapplic-map-image").appendTo(l);break;case"svg":t("<div></div>").addClass("mapplic-map-image").load(a,function(){t(v.o.selector,this).each(function(){var e=v.getLocationData(t(this).attr("id"));if(e){t(this).attr("class","mapplic-clickable"),e.el=t(this);var i=null;e.fill?i=e.fill:v.o.fillcolor&&(i=v.o.fillcolor),i&&(t(this).css("fill",i),t("> *",this).css("fill",i)),v.o.landmark===e.id&&t(this).attr("class","mapplic-active")}}),t(v.o.selector,this).on("click touchend",function(){v.dragging||v.showLocation(t(this).attr("id"),600)}),t("svg a",this).each(function(){var e=v.getLocationData(t(this).attr("xlink:href").substr(1));e&&(t(this).attr("class","mapplic-clickable"),e.el=t(this))}),t("svg a",this).click(function(e){var i=t(this).attr("xlink:href").substr(1);v.showLocation(i,600),e.preventDefault()})}).appendTo(l);break;default:alert("File type "+s+" is not supported!")}v.minimap&&v.minimap.addLayer(o),v.levelselect.prepend(t("<option></option>").attr("value",o.id).text(o.title)),i&&!o.show||(i=o.id),t.each(o.locations,function(e,i){if(i.lat&&i.lng){var n=w(i.lat,i.lng);i.x=n.x,i.y=n.y}var o=100*i.y,a=100*i.x;if(i.pin||(i.pin="default"),i.pin.indexOf("hidden")==-1&&v.o.markers){var s=t("<a></a>").attr("href","#").addClass("mapplic-pin").css({top:o+"%",left:a+"%"}).appendTo(l);s.on("click touchend",function(t){t.preventDefault(),v.showLocation(i.id,600)}),i.label&&s.html(i.label),i.fill&&s.css("background-color",i.fill),s.attr("data-location",i.id),s.addClass(i.pin),i.el=s}v.sidebar&&v.sidebar.addLocation(i)}),n++}),v.tooltip=new a,v.tooltip.init(),v.o.lightbox&&(v.lightbox=new s,v.lightbox.init()),v.o.hovertip&&(v.hovertip=new l,v.hovertip.init()),v.o.developer&&(v.devtools=(new u).init()),v.o.clearbutton&&(v.clearbutton=(new d).init()),v.o.zoombuttons&&(v.zoombuttons=new f,v.zoombuttons.init(),v.o.clearbutton||v.zoombuttons.el.css("bottom","0")),v.o.fullscreen&&(v.fullscreen=(new m).init()),n>1){v.levels=t("<div></div>").addClass("mapplic-levels");var o=t('<a href="#"></a>').addClass("mapplic-levels-up").appendTo(v.levels);v.levelselect.appendTo(v.levels);var g=t('<a href="#"></a>').addClass("mapplic-levels-down").appendTo(v.levels);v.container.append(v.levels),v.levelselect.change(function(){var e=t(this).val();v.switchLevel(e)}),o.click(function(e){e.preventDefault(),t(this).hasClass("mapplic-disabled")||v.switchLevel("+")}),g.click(function(e){e.preventDefault(),t(this).hasClass("mapplic-disabled")||v.switchLevel("-")})}v.switchLevel(i),t(window).resize(function(){if(t(window).width()<668){var e=Math.min(Math.max(v.container.width()*v.contentHeight/v.contentWidth,2*t(window).height()/3),t(window).height()-66);v.container.height(e)}else v.container.height("100%");var i=v.container.width()/v.contentWidth,n=v.container.height()/v.contentHeight;v.o.mapfill?v.fitscale=i>n?i:n:v.fitscale=i<n?i:n,v.scale=E(v.scale),v.x=C(v.x),v.y=k(v.y),D(v.x,v.y,v.scale,100)}).resize(),v.o.landmark?v.showLocation(v.o.landmark,0):v.moveTo(.5,.5,1,0),v.o.deeplinking&&(history.pushState?v.deeplinking=new r:v.deeplinking=new c,v.deeplinking.init()),v.el.trigger("mapready",v),v.o.zoom&&y()},y=function(){var e=v.map,i=t(".mapplic-map-image",v.map);if(document.ondragstart=function(){return!1},i.on("mousedown",function(i){v.dragging=!1,e.stop(),e.data("mouseX",i.pageX),e.data("mouseY",i.pageY),e.data("lastX",v.x),e.data("lastY",v.y),e.addClass("mapplic-dragging"),v.map.on("mousemove",function(t){v.dragging=!0;var i=t.pageX-e.data("mouseX")+v.x,n=t.pageY-e.data("mouseY")+v.y;i=C(i),n=k(n),D(i,n),e.data("lastX",i),e.data("lastY",n)}),t(document).on("mouseup",function(){v.x=e.data("lastX"),v.y=e.data("lastY"),v.map.off("mousemove"),t(document).off("mouseup"),e.removeClass("mapplic-dragging")})}),v.el.on("dblclick",".mapplic-map-image",function(t){t.preventDefault();var e=v.scale;v.scale=E(2*e),v.x=C(v.x-(t.pageX-v.container.offset().left-v.x)*(v.scale/e-1)),v.y=k(v.y-(t.pageY-v.container.offset().top-v.y)*(v.scale/e-1)),D(v.x,v.y,v.scale,400,"easeInOutCubic")}),v.o.mousewheel&&t(".mapplic-layer",v.el).bind("mousewheel DOMMouseScroll",function(t,e){var i=v.scale;v.scale=E(i+i*e/5),t.preventDefault(),v.x=C(v.x-(t.pageX-v.container.offset().left-v.x)*(v.scale/i-1)),v.y=k(v.y-(t.pageY-v.container.offset().top-v.y)*(v.scale/i-1)),D(v.x,v.y,v.scale,200,"easeOutCubic")}),!("ontouchstart"in window||"onmsgesturechange"in window))return!0;i.on("touchstart",function(t){v.dragging=!1;var n=t.originalEvent,o=e.position();e.data("touchY",n.changedTouches[0].pageY-o.top),e.data("touchX",n.changedTouches[0].pageX-o.left),i.on("touchmove",function(t){t.preventDefault(),v.dragging=!0;var n=t.originalEvent;1==n.touches.length?(v.x=C(n.changedTouches[0].pageX-e.data("touchX")),v.y=k(n.changedTouches[0].pageY-e.data("touchY")),D(v.x,v.y,v.scale,50)):i.off("touchmove")}),i.on("touchend",function(t){i.off("touchmove touchend")})});var n=new Hammer(v.map[0],{transform_always_block:!0,drag_block_horizontal:!0,drag_block_vertical:!0});n.get("pinch").set({enable:!0});var o,a=1;n.on("pinchstart",function(t){v.dragging=!1,a=v.scale/v.fitscale,o=a}),n.on("pinch",function(t){v.dragging=!0,1!=t.scale&&(a=Math.max(1,Math.min(o*t.scale,100)));var e=v.scale;v.scale=E(a*v.fitscale),v.x=C(v.x-(t.center.x-v.container.offset().left-v.x)*(v.scale/e-1)),v.y=k(v.y-(t.center.y-v.y)*(v.scale/e-1)),D(v.x,v.y,v.scale,100)})},w=function(t,e){var i=v.data.rightLng-v.data.leftLng,n=v.data.bottomLat*Math.PI/180,o=v.data.mapwidth/i*360/(2*Math.PI),a=o/2*Math.log((1+Math.sin(n))/(1-Math.sin(n)));return t=t*Math.PI/180,{x:(e-v.data.leftLng)*(v.data.mapwidth/i)/v.data.mapwidth,y:(v.data.mapheight-(o/2*Math.log((1+Math.sin(t))/(1-Math.sin(t)))-a))/v.data.mapheight}},T=function(t,e){var i=t.attr("class");i.indexOf(e)==-1&&t.attr("class",i+" "+e)},b=function(t,e){var i=t.attr("class");i&&t.attr("class",i.replace(e,"").trim())},x=function(t,e){return t.attr("class").indexOf(e)>-1},C=function(t){var e=v.container.width()-v.contentWidth*v.scale;return e<0?t>0?t=0:t<e&&(t=e):t=e/2,t},k=function(t){var e=v.container.height()-v.contentHeight*v.scale;return e<0?t>=0?t=0:t<e&&(t=e):t=e/2,t},E=function(t){return t<v.fitscale?t=v.fitscale:t>v.o.maxscale&&(t=v.o.maxscale),v.zoombuttons&&v.zoombuttons.update(t),t},D=function(t,e,i,n,o){void 0!==i?v.map.stop().animate({left:t,top:e,width:v.contentWidth*i,height:v.contentHeight*i},n,o,function(){v.tooltip&&v.tooltip.position()}):v.map.css({left:t,top:e}),v.tooltip&&v.tooltip.position(),v.minimap&&v.minimap.update(t,e),v.el.trigger("positionchanged",v)};v.switchLevel=function(e){switch(e){case"+":e=t("option:selected",v.levelselect).removeAttr("selected").prev().prop("selected","selected").val();break;case"-":e=t("option:selected",v.levelselect).removeAttr("selected").next().prop("selected","selected").val();break;default:t('option[value="'+e+'"]',v.levelselect).prop("selected","selected")}if(e){var i=t('.mapplic-layer[data-floor="'+e+'"]',v.el);if(!i.is(":visible")){v.tooltip&&v.tooltip.hide(),t(".mapplic-layer:visible",v.map).hide(),i.show(),v.minimap&&v.minimap.show(e);var n=v.levelselect.get(0).selectedIndex,o=t(".mapplic-levels-up",v.el),a=t(".mapplic-levels-down",v.el);o.removeClass("mapplic-disabled"),a.removeClass("mapplic-disabled"),0==n?o.addClass("mapplic-disabled"):n==v.levelselect.get(0).length-1&&a.addClass("mapplic-disabled"),v.el.trigger("levelswitched",e)}}},v.moveTo=function(t,e,i,n,o,a){n=void 0!==n?n:400,a=void 0!==a?a:.5,i=void 0!==i?i:v.scale/v.fitscale,v.scale=E(v.fitscale*i),v.x=C(.5*v.container.width()-v.scale*v.contentWidth*t),v.y=k(v.container.height()*a-v.scale*v.contentHeight*e),D(v.x,v.y,v.scale,n,o)},v.getLocationData=function(e){var i=null;return t.each(v.data.levels,function(n,o){t.each(o.locations,function(t,n){n.id==e&&(i=n)})}),i},v.showLocation=function(e,i,n){t.each(v.data.levels,function(i,o){if(o.id==e)return v.switchLevel(o.id),!1;t.each(o.locations,function(i,a){if(a.id==e){switch(a.action&&"default"!=a.action?a.action:v.o.action){case"open-link":return window.location.href=a.link,!1;case"open-link-new-tab":return window.open(a.link),!1;case"select":return a.el&&(x(a.el,"mapplic-active")?b(a.el,"mapplic-active"):T(a.el,"mapplic-active")),!1;case"none":var s=a.zoom?a.zoom:v.o.maxscale;v.moveTo(a.x,a.y,s,600,"easeInOutCubic");break;case"lightbox":v.switchLevel(o.id),v.lightbox.show(a);break;default:v.switchLevel(o.id),v.tooltip.show(a)}b(t(".mapplic-active",v.el),"mapplic-active"),a.el&&T(a.el,"mapplic-active"),v.o.deeplinking&&!n&&v.deeplinking.update(e),v.el.trigger("locationopened",a)}})})},v.hideLocation=function(){b(t(".mapplic-active",v.el),"mapplic-active"),v.deeplinking&&v.deeplinking.clear(),v.tooltip&&v.tooltip.hide(),v.el.trigger("locationclosed")},v.updateLocation=function(t){var e=v.getLocationData(t);if(e.id==t&&e.el.is("a")){if(e.lat&&e.lng){var i=w(e.lat,e.lng);e.x=i.x,e.y=i.y}var n=100*e.y,o=100*e.x;e.el.css({top:n+"%",left:o+"%"})}}};t.extend(t.easing,{def:"easeOutQuad",swing:function(t,e,i,n,o){return jQuery.easing[jQuery.easing.def](t,e,i,n,o)},easeOutQuad:function(t,e,i,n,o){return-n*(e/=o)*(e-2)+i},easeOutCubic:function(t,e,i,n,o){return n*((e=e/o-1)*e*e+1)+i},easeInOutCubic:function(t,e,i,n,o){return(e/=o/2)<1?n/2*e*e*e+i:n/2*((e-=2)*e*e+2)+i}}),t.fn.mapplic=function(i){return this.each(function(){var n=t(this);if(!n.data("mapplic")){var o=new e(n).init(i);n.data("mapplic",o)}})}}(jQuery)},155:function(t,e,i){var n,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};/*! Hammer.JS - v2.0.6 - 2016-01-06
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the  license */
!function(a,s,l,r){"use strict";function c(t,e,i){return setTimeout(f(t,i),e)}function h(t,e,i){return!!Array.isArray(t)&&(p(t,i[e],i),!0)}function p(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==r)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function u(t,e,i){var n="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=a.console&&(a.console.warn||a.console.log);return o&&o.call(a.console,n,i),t.apply(this,arguments)}}function d(t,e,i){var n,o=e.prototype;n=t.prototype=Object.create(o),n.constructor=t,n._super=o,i&&ut(n,i)}function f(t,e){return function(){return t.apply(e,arguments)}}function m(t,e){return(void 0===t?"undefined":o(t))==mt?t.apply(e?e[0]||r:r,e):t}function v(t,e){return t===r?e:t}function g(t,e,i){p(b(e),function(e){t.addEventListener(e,i,!1)})}function y(t,e,i){p(b(e),function(e){t.removeEventListener(e,i,!1)})}function w(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function T(t,e){return t.indexOf(e)>-1}function b(t){return t.trim().split(/\s+/g)}function x(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function C(t){return Array.prototype.slice.call(t,0)}function k(t,e,i){for(var n=[],o=[],a=0;a<t.length;){var s=e?t[a][e]:t[a];x(o,s)<0&&n.push(t[a]),o[a]=s,a++}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n}function E(t,e){for(var i,n,o=e[0].toUpperCase()+e.slice(1),a=0;a<dt.length;){if(i=dt[a],(n=i?i+o:e)in t)return n;a++}return r}function D(){return bt++}function M(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||a}function z(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){m(t.options.enable,[t])&&i.handler(e)},this.init()}function I(t){var e=t.options.inputClass;return new(e?e:kt?q:Et?V:Ct?Q:N)(t,L)}function L(t,e,i){var n=i.pointers.length,o=i.changedPointers.length,a=e&Ot&&n-o==0,s=e&(St|At)&&n-o==0;i.isFirst=!!a,i.isFinal=!!s,a&&(t.session={}),i.eventType=e,O(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function O(t,e){var i=t.session,n=e.pointers,o=n.length;i.firstInput||(i.firstInput=A(e)),o>1&&!i.firstMultiple?i.firstMultiple=A(e):1===o&&(i.firstMultiple=!1);var a=i.firstInput,s=i.firstMultiple,l=s?s.center:a.center,r=e.center=_(n);e.timeStamp=yt(),e.deltaTime=e.timeStamp-a.timeStamp,e.angle=R(l,r),e.distance=Y(l,r),F(i,e),e.offsetDirection=X(e.deltaX,e.deltaY);var c=P(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=gt(c.x)>gt(c.y)?c.x:c.y,e.scale=s?H(s.pointers,n):1,e.rotation=s?W(s.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,S(i,e);var h=t.element;w(e.srcEvent.target,h)&&(h=e.srcEvent.target),e.target=h}function F(t,e){var i=e.center,n=t.offsetDelta||{},o=t.prevDelta||{},a=t.prevInput||{};(e.eventType===Ot||a.eventType===St)&&(o=t.prevDelta={x:a.deltaX||0,y:a.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=o.x+(i.x-n.x),e.deltaY=o.y+(i.y-n.y)}function S(t,e){var i,n,o,a,s=t.lastInterval||e,l=e.timeStamp-s.timeStamp;if(e.eventType!=At&&(l>Lt||s.velocity===r)){var c=e.deltaX-s.deltaX,h=e.deltaY-s.deltaY,p=P(l,c,h);n=p.x,o=p.y,i=gt(p.x)>gt(p.y)?p.x:p.y,a=X(c,h),t.lastInterval=e}else i=s.velocity,n=s.velocityX,o=s.velocityY,a=s.direction;e.velocity=i,e.velocityX=n,e.velocityY=o,e.direction=a}function A(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:vt(t.pointers[i].clientX),clientY:vt(t.pointers[i].clientY)},i++;return{timeStamp:yt(),pointers:e,center:_(e),deltaX:t.deltaX,deltaY:t.deltaY}}function _(t){var e=t.length;if(1===e)return{x:vt(t[0].clientX),y:vt(t[0].clientY)};for(var i=0,n=0,o=0;e>o;)i+=t[o].clientX,n+=t[o].clientY,o++;return{x:vt(i/e),y:vt(n/e)}}function P(t,e,i){return{x:e/t||0,y:i/t||0}}function X(t,e){return t===e?_t:gt(t)>=gt(e)?0>t?Pt:Xt:0>e?Yt:Rt}function Y(t,e,i){i||(i=qt);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return Math.sqrt(n*n+o*o)}function R(t,e,i){i||(i=qt);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return 180*Math.atan2(o,n)/Math.PI}function W(t,e){return R(e[1],e[0],jt)+R(t[1],t[0],jt)}function H(t,e){return Y(e[0],e[1],jt)/Y(t[0],t[1],jt)}function N(){this.evEl=Vt,this.evWin=$t,this.allow=!0,this.pressed=!1,z.apply(this,arguments)}function q(){this.evEl=Gt,this.evWin=Zt,z.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function j(){this.evTarget=Kt,this.evWin=te,this.started=!1,z.apply(this,arguments)}function U(t,e){var i=C(t.touches),n=C(t.changedTouches);return e&(St|At)&&(i=k(i.concat(n),"identifier",!0)),[i,n]}function V(){this.evTarget=ie,this.targetIds={},z.apply(this,arguments)}function $(t,e){var i=C(t.touches),n=this.targetIds;if(e&(Ot|Ft)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var o,a,s=C(t.changedTouches),l=[],r=this.target;if(a=i.filter(function(t){return w(t.target,r)}),e===Ot)for(o=0;o<a.length;)n[a[o].identifier]=!0,o++;for(o=0;o<s.length;)n[s[o].identifier]&&l.push(s[o]),e&(St|At)&&delete n[s[o].identifier],o++;return l.length?[k(a.concat(l),"identifier",!0),l]:void 0}function Q(){z.apply(this,arguments);var t=f(this.handler,this);this.touch=new V(this.manager,t),this.mouse=new N(this.manager,t)}function B(t,e){this.manager=t,this.set(e)}function G(t){if(T(t,re))return re;var e=T(t,ce),i=T(t,he);return e&&i?re:e||i?e?ce:he:T(t,le)?le:se}function Z(t){this.options=ut({},this.defaults,t||{}),this.id=D(),this.manager=null,this.options.enable=v(this.options.enable,!0),this.state=pe,this.simultaneous={},this.requireFail=[]}function J(t){return t&ve?"cancel":t&fe?"end":t&de?"move":t&ue?"start":""}function K(t){return t==Rt?"down":t==Yt?"up":t==Pt?"left":t==Xt?"right":""}function tt(t,e){var i=e.manager;return i?i.get(t):t}function et(){Z.apply(this,arguments)}function it(){et.apply(this,arguments),this.pX=null,this.pY=null}function nt(){et.apply(this,arguments)}function ot(){Z.apply(this,arguments),this._timer=null,this._input=null}function at(){et.apply(this,arguments)}function st(){et.apply(this,arguments)}function lt(){Z.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function rt(t,e){return e=e||{},e.recognizers=v(e.recognizers,rt.defaults.preset),new ct(t,e)}function ct(t,e){this.options=ut({},rt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=I(this),this.touchAction=new B(this,this.options.touchAction),ht(this,!0),p(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ht(t,e){var i=t.element;i.style&&p(t.options.cssProps,function(t,n){i.style[E(i.style,n)]=e?t:""})}function pt(t,e){var i=s.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}var ut,dt=["","webkit","Moz","MS","ms","o"],ft=s.createElement("div"),mt="function",vt=Math.round,gt=Math.abs,yt=Date.now;ut="function"!=typeof Object.assign?function(t){if(t===r||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(n!==r&&null!==n)for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o])}return e}:Object.assign;var wt=u(function(t,e,i){for(var n=Object.keys(e),o=0;o<n.length;)(!i||i&&t[n[o]]===r)&&(t[n[o]]=e[n[o]]),o++;return t},"extend","Use `assign`."),Tt=u(function(t,e){return wt(t,e,!0)},"merge","Use `assign`."),bt=1,xt=/mobile|tablet|ip(ad|hone|od)|android/i,Ct="ontouchstart"in a,kt=E(a,"PointerEvent")!==r,Et=Ct&&xt.test(navigator.userAgent),Dt="touch",Mt="pen",zt="mouse",It="kinect",Lt=25,Ot=1,Ft=2,St=4,At=8,_t=1,Pt=2,Xt=4,Yt=8,Rt=16,Wt=Pt|Xt,Ht=Yt|Rt,Nt=Wt|Ht,qt=["x","y"],jt=["clientX","clientY"];z.prototype={handler:function(){},init:function(){this.evEl&&g(this.element,this.evEl,this.domHandler),this.evTarget&&g(this.target,this.evTarget,this.domHandler),this.evWin&&g(M(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&y(this.element,this.evEl,this.domHandler),this.evTarget&&y(this.target,this.evTarget,this.domHandler),this.evWin&&y(M(this.element),this.evWin,this.domHandler)}};var Ut={mousedown:Ot,mousemove:Ft,mouseup:St},Vt="mousedown",$t="mousemove mouseup";d(N,z,{handler:function(t){var e=Ut[t.type];e&Ot&&0===t.button&&(this.pressed=!0),e&Ft&&1!==t.which&&(e=St),this.pressed&&this.allow&&(e&St&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:zt,srcEvent:t}))}});var Qt={pointerdown:Ot,pointermove:Ft,pointerup:St,pointercancel:At,pointerout:At},Bt={2:Dt,3:Mt,4:zt,5:It},Gt="pointerdown",Zt="pointermove pointerup pointercancel";a.MSPointerEvent&&!a.PointerEvent&&(Gt="MSPointerDown",Zt="MSPointerMove MSPointerUp MSPointerCancel"),d(q,z,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),o=Qt[n],a=Bt[t.pointerType]||t.pointerType,s=a==Dt,l=x(e,t.pointerId,"pointerId");o&Ot&&(0===t.button||s)?0>l&&(e.push(t),l=e.length-1):o&(St|At)&&(i=!0),0>l||(e[l]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:a,srcEvent:t}),i&&e.splice(l,1))}});var Jt={touchstart:Ot,touchmove:Ft,touchend:St,touchcancel:At},Kt="touchstart",te="touchstart touchmove touchend touchcancel";d(j,z,{handler:function(t){var e=Jt[t.type];if(e===Ot&&(this.started=!0),this.started){var i=U.call(this,t,e);e&(St|At)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:Dt,srcEvent:t})}}});var ee={touchstart:Ot,touchmove:Ft,touchend:St,touchcancel:At},ie="touchstart touchmove touchend touchcancel";d(V,z,{handler:function(t){var e=ee[t.type],i=$.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:Dt,srcEvent:t})}}),d(Q,z,{handler:function(t,e,i){var n=i.pointerType==Dt,o=i.pointerType==zt;if(n)this.mouse.allow=!1;else if(o&&!this.mouse.allow)return;e&(St|At)&&(this.mouse.allow=!0),this.callback(t,e,i)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ne=E(ft.style,"touchAction"),oe=ne!==r,ae="compute",se="auto",le="manipulation",re="none",ce="pan-x",he="pan-y";B.prototype={set:function(t){t==ae&&(t=this.compute()),oe&&this.manager.element.style&&(this.manager.element.style[ne]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return p(this.manager.recognizers,function(e){m(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),G(t.join(" "))},preventDefaults:function(t){if(!oe){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var n=this.actions,o=T(n,re),a=T(n,he),s=T(n,ce);if(o){var l=1===t.pointers.length,r=t.distance<2,c=t.deltaTime<250;if(l&&r&&c)return}if(!s||!a)return o||a&&i&Wt||s&&i&Ht?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var pe=1,ue=2,de=4,fe=8,me=fe,ve=16,ge=32;Z.prototype={defaults:{},set:function(t){return ut(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(h(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=tt(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return h(t,"dropRecognizeWith",this)?this:(t=tt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(h(t,"requireFailure",this))return this;var e=this.requireFail;return t=tt(t,this),-1===x(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(h(t,"dropRequireFailure",this))return this;t=tt(t,this);var e=x(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){i.manager.emit(e,t)}var i=this,n=this.state;fe>n&&e(i.options.event+J(n)),e(i.options.event),t.additionalEvent&&e(t.additionalEvent),n>=fe&&e(i.options.event+J(n))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=ge)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(ge|pe)))return!1;t++}return!0},recognize:function(t){var e=ut({},t);return m(this.options.enable,[this,e])?(this.state&(me|ve|ge)&&(this.state=pe),this.state=this.process(e),void(this.state&(ue|de|fe|ve)&&this.tryEmit(e))):(this.reset(),void(this.state=ge))},process:function(t){},getTouchAction:function(){},reset:function(){}},d(et,Z,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=e&(ue|de),o=this.attrTest(t);return n&&(i&At||!o)?e|ve:n||o?i&St?e|fe:e&ue?e|de:ue:ge}}),d(it,et,{defaults:{event:"pan",threshold:10,pointers:1,direction:Nt},getTouchAction:function(){var t=this.options.direction,e=[];return t&Wt&&e.push(he),t&Ht&&e.push(ce),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,o=t.direction,a=t.deltaX,s=t.deltaY;return o&e.direction||(e.direction&Wt?(o=0===a?_t:0>a?Pt:Xt,i=a!=this.pX,n=Math.abs(t.deltaX)):(o=0===s?_t:0>s?Yt:Rt,i=s!=this.pY,n=Math.abs(t.deltaY))),t.direction=o,i&&n>e.threshold&&o&e.direction},attrTest:function(t){return et.prototype.attrTest.call(this,t)&&(this.state&ue||!(this.state&ue)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=K(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),d(nt,et,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[re]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&ue)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),d(ot,Z,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[se]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(St|At)&&!o)this.reset();else if(t.eventType&Ot)this.reset(),this._timer=c(function(){this.state=me,this.tryEmit()},e.time,this);else if(t.eventType&St)return me;return ge},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===me&&(t&&t.eventType&St?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=yt(),this.manager.emit(this.options.event,this._input)))}}),d(at,et,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[re]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&ue)}}),d(st,et,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Wt|Ht,pointers:1},getTouchAction:function(){return it.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(Wt|Ht)?e=t.overallVelocity:i&Wt?e=t.overallVelocityX:i&Ht&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&gt(e)>this.options.velocity&&t.eventType&St},emit:function(t){var e=K(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),d(lt,Z,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[le]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&Ot&&0===this.count)return this.failTimeout();if(n&&o&&i){if(t.eventType!=St)return this.failTimeout();var a=!this.pTime||t.timeStamp-this.pTime<e.interval,s=!this.pCenter||Y(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,s&&a?this.count+=1:this.count=1,this._input=t;if(0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=c(function(){this.state=me,this.tryEmit()},e.interval,this),ue):me}return ge},failTimeout:function(){return this._timer=c(function(){this.state=ge},this.options.interval,this),ge},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==me&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),rt.VERSION="2.0.6",rt.defaults={domEvents:!1,touchAction:ae,enable:!0,inputTarget:null,inputClass:null,preset:[[at,{enable:!1}],[nt,{enable:!1},["rotate"]],[st,{direction:Wt}],[it,{direction:Wt},["swipe"]],[lt],[lt,{event:"doubletap",taps:2},["tap"]],[ot]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ye=2;ct.prototype={set:function(t){return ut(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?ye:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,n=this.recognizers,o=e.curRecognizer;(!o||o&&o.state&me)&&(o=e.curRecognizer=null);for(var a=0;a<n.length;)i=n[a],e.stopped===ye||o&&i!=o&&!i.canRecognizeWith(o)?i.reset():i.recognize(t),!o&&i.state&(ue|de|fe)&&(o=e.curRecognizer=i),a++}},get:function(t){if(t instanceof Z)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(h(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(h(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=x(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){var i=this.handlers;return p(b(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},off:function(t,e){var i=this.handlers;return p(b(t),function(t){e?i[t]&&i[t].splice(x(i[t],e),1):delete i[t]}),this},emit:function(t,e){this.options.domEvents&&pt(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},destroy:function(){this.element&&ht(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ut(rt,{INPUT_START:Ot,INPUT_MOVE:Ft,INPUT_END:St,INPUT_CANCEL:At,STATE_POSSIBLE:pe,STATE_BEGAN:ue,STATE_CHANGED:de,STATE_ENDED:fe,STATE_RECOGNIZED:me,STATE_CANCELLED:ve,STATE_FAILED:ge,DIRECTION_NONE:_t,DIRECTION_LEFT:Pt,DIRECTION_RIGHT:Xt,DIRECTION_UP:Yt,DIRECTION_DOWN:Rt,DIRECTION_HORIZONTAL:Wt,DIRECTION_VERTICAL:Ht,DIRECTION_ALL:Nt,Manager:ct,Input:z,TouchAction:B,TouchInput:V,MouseInput:N,PointerEventInput:q,TouchMouseInput:Q,SingleTouchInput:j,Recognizer:Z,AttrRecognizer:et,Tap:lt,Pan:it,Swipe:st,Pinch:nt,Rotate:at,Press:ot,on:g,off:y,each:p,merge:Tt,extend:wt,assign:ut,inherit:d,bindFn:f,prefixed:E}),(void 0!==a?a:"undefined"!=typeof self?self:{}).Hammer=rt,void 0!==(n=function(){return rt}.call(e,i,e,t))&&(t.exports=n)}(window,document)},156:function(t,e,i){var n,o,a;"function"==typeof Symbol&&Symbol.iterator;/*!
 * jQuery Mousewheel 3.1.13
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 */
!function(s){o=[i(3)],n=s,void 0!==(a="function"==typeof n?n.apply(e,o):n)&&(t.exports=a)}(function(t){function e(e){var s=e||window.event,l=r.call(arguments,1),c=0,p=0,u=0,d=0,f=0,m=0;if(e=t.event.fix(s),e.type="mousewheel","detail"in s&&(u=s.detail*-1),"wheelDelta"in s&&(u=s.wheelDelta),"wheelDeltaY"in s&&(u=s.wheelDeltaY),"wheelDeltaX"in s&&(p=s.wheelDeltaX*-1),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(p=u*-1,u=0),c=0===u?p:u,"deltaY"in s&&(u=s.deltaY*-1,c=u),"deltaX"in s&&(p=s.deltaX,0===u&&(c=p*-1)),0!==u||0!==p){if(1===s.deltaMode){var v=t.data(this,"mousewheel-line-height");c*=v,u*=v,p*=v}else if(2===s.deltaMode){var g=t.data(this,"mousewheel-page-height");c*=g,u*=g,p*=g}if(d=Math.max(Math.abs(u),Math.abs(p)),(!a||d<a)&&(a=d,n(s,d)&&(a/=40)),n(s,d)&&(c/=40,p/=40,u/=40),c=Math[c>=1?"floor":"ceil"](c/a),p=Math[p>=1?"floor":"ceil"](p/a),u=Math[u>=1?"floor":"ceil"](u/a),h.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();f=e.clientX-y.left,m=e.clientY-y.top}return e.deltaX=p,e.deltaY=u,e.deltaFactor=a,e.offsetX=f,e.offsetY=m,e.deltaMode=0,l.unshift(e,c,p,u),o&&clearTimeout(o),o=setTimeout(i,200),(t.event.dispatch||t.event.handle).apply(this,l)}}function i(){a=null}function n(t,e){return h.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}var o,a,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],l="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],r=Array.prototype.slice;if(t.event.fixHooks)for(var c=s.length;c;)t.event.fixHooks[s[--c]]=t.event.mouseHooks;var h=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var i=l.length;i;)this.addEventListener(l[--i],e,!1);else this.onmousewheel=e;t.data(this,"mousewheel-line-height",h.getLineHeight(this)),t.data(this,"mousewheel-page-height",h.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var i=l.length;i;)this.removeEventListener(l[--i],e,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var i=t(e),n=i["offsetParent"in t.fn?"offsetParent":"parent"]();return n.length||(n=t("body")),parseInt(n.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})})},157:function(t,e){$(document).ready(function(){$(".usage").click(function(t){t.preventDefault(),$(".editor-window").slideToggle(200)}),$(document).on("mousemove",".mapplic-layer",function(t){var e=$(".mapplic-map"),i=(t.pageX-e.offset().left)/e.width(),n=(t.pageY-e.offset().top)/e.height();$(".mapplic-coordinates-x").text(parseFloat(i).toFixed(4)),$(".mapplic-coordinates-y").text(parseFloat(n).toFixed(4))}),$(".editor-window .window-mockup").click(function(){$(".editor-window").slideUp(200)})})}});